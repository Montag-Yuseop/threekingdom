# Infra
주소: http://3.39.189.248:8080/

젠킨스 : af75157a9c8c40b0ba0230e6dfa369fc

user : admin

pass : 삼국지전략판덱검색기

## Version
- Java: 17
- Docker: Version 25.0.3, build 4debf41
- Jenkins: Version 2.445


# BE
## Version
Java: 17

## Dependency
- Spring Web
- Lombok
- Spring Boot DevTools
- Docker Compose Support
- MySQL Driver
- Spring Configuration Processor
- Validation
- Spring Data JPA

추가기능
- WebSocket
- Spring Security
- OAuth2 Client
- OAuth2 Resource Server

## 기본 application.yml

```yml
spring:
  config:
    import: optional:file:.env[.properties]
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://${DB_HOST}:${DB_PORT}/${DB_NAME}?serverTimezone=Asia/Seoul&useUnicode=true&characterEncoding=utf8
    username: ${DB_USER}
    password: ${DB_PASS}
  jpa:
    hibernate:
      ddl-auto: create
    properties:
      hibernate:
        show_sql: true
        format_sql: true
logging:
  level:
    org.hibernate.SQL: debug
    root: info
server:
  port: 8081
  servlet:
    context-path: /api/v1
```

# DB

## docker-compose.yml

```yml
services:
  mysql:
    image: 'mysql:latest'
    environment:
      MYSQL_DATABASE: threekingdom
      MYSQL_USER: montag
      MYSQL_PASSWORD: montag8504!
      MYSQL_ROOT_PASSWORD: 1234
    ports:
      - '3307:3306'
    container_name: threekingdom
```

# 데이터 모델링

## 기능

1. 유저 이름으로 검색하면 해당 유저의 덱 리스트와 전법을 볼 수 있다
    + 덱은 장수 병종(특별 병종 포함), 3명, 진급, 전법, 전법 레벨, +병서(?), +아이템(?)

2. 시즌을 선택할 수 있다

3. 나중에 내 덱과 승부 결과를 저장할 수 있다(두 명의 유저와 덱을 선택하면 승부 결과를 보여준다)

4. 유저의 뽑기를 저장할 수 있다(누구 뽑았는지, 언제 뽑았는지, 5+1를 위해)

5. 입장 코드를 알아야 사용할 수 있다
    + 프론트 백 어디서 처리할 것인가?(로그인 기능도 아니면 그냥 프론트에서 인터셉터 해버리는 것도 괜찮은 듯)

6. 이리단 백과사전으로 연동?

